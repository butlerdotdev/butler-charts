# Butler Console Helm Chart Values
# Web-based management console with server (API) and frontend (UI) components

# Global settings
global:
  # -- Image pull secrets for all components
  imagePullSecrets: []

# Server (API) configuration
server:
  # -- Enable server component
  enabled: true
  
  # -- Number of server replicas
  replicaCount: 1
  
  image:
    # -- Server image repository
    repository: ghcr.io/butlerdotdev/butler-console-server
    # -- Image pull policy
    pullPolicy: IfNotPresent
    # -- Image tag (defaults to chart appVersion)
    tag: ""
  
  # -- Pod annotations
  podAnnotations: {}
  
  # -- Pod labels
  podLabels: {}
  
  # -- Pod security context
  podSecurityContext:
    runAsNonRoot: true
    seccompProfile:
      type: RuntimeDefault
  
  # -- Container security context
  securityContext:
    allowPrivilegeEscalation: false
    capabilities:
      drop:
        - ALL
    readOnlyRootFilesystem: true
  
  # -- Resource requests and limits
  resources:
    limits:
      cpu: 500m
      memory: 256Mi
    requests:
      cpu: 100m
      memory: 128Mi
  
  # Service configuration
  service:
    # -- Service type
    type: ClusterIP
    # -- API port
    port: 8080
  
  # Server configuration
  config:
    # -- Log level (debug, info, warn, error)
    logLevel: info
    # -- Metrics bind address
    metricsBindAddress: ":9090"
    # -- Health probe bind address
    healthProbeBindAddress: ":8081"
  
  # Pod disruption budget
  podDisruptionBudget:
    # -- Enable PDB
    enabled: false
    # -- Minimum available pods
    minAvailable: 1

# Frontend (UI) configuration  
frontend:
  # -- Enable frontend component
  enabled: true
  
  # -- Number of frontend replicas
  replicaCount: 1
  
  image:
    # -- Frontend image repository
    repository: ghcr.io/butlerdotdev/butler-console-frontend
    # -- Image pull policy
    pullPolicy: IfNotPresent
    # -- Image tag (defaults to chart appVersion)
    tag: ""
  
  # -- Pod annotations
  podAnnotations: {}
  
  # -- Pod labels
  podLabels: {}
  
  # -- Pod security context
  podSecurityContext:
    runAsNonRoot: true
    seccompProfile:
      type: RuntimeDefault
  
  # -- Container security context
  securityContext:
    allowPrivilegeEscalation: false
    capabilities:
      drop:
        - ALL
    readOnlyRootFilesystem: true
  
  # -- Resource requests and limits
  resources:
    limits:
      cpu: 200m
      memory: 128Mi
    requests:
      cpu: 50m
      memory: 64Mi
  
  # Service configuration
  service:
    # -- Service type
    type: ClusterIP
    # -- HTTP port
    port: 80
  
  # Pod disruption budget
  podDisruptionBudget:
    # -- Enable PDB
    enabled: false
    # -- Minimum available pods
    minAvailable: 1

# Service account configuration (shared)
serviceAccount:
  # -- Create a service account
  create: true
  # -- Annotations to add to the service account
  annotations: {}
  # -- Service account name (generated if not set)
  name: ""

# RBAC configuration
rbac:
  # -- Create RBAC resources
  create: true

# Ingress configuration
ingress:
  # -- Enable ingress
  enabled: false
  # -- Ingress class name
  className: ""
  # -- Ingress annotations
  annotations: {}
  # -- Ingress hosts
  hosts:
    - host: butler.local
      paths:
        - path: /api
          pathType: Prefix
          service: server
        - path: /
          pathType: Prefix
          service: frontend
  # -- Ingress TLS configuration
  tls: []
  #  - secretName: butler-tls
  #    hosts:
  #      - butler.local

# -- Node selector (applies to all components)
nodeSelector: {}

# -- Tolerations (applies to all components)
tolerations: []

# -- Affinity rules (applies to all components)
affinity: {}

# -- Override the release name
nameOverride: ""
# -- Override the full release name
fullnameOverride: ""
